@comment -*-texinfo-*-
@comment $Id: TROUBLESHOOTING_win.texi,v 1.2 2001-08-27 14:40:04 Singular Exp $
@c FILE:    INSTALL.texi
@c PURPOSE: Installation instructions for Singular on MSWindows
@c          This file is displayed during installation and copied to
@c          /etc/INSTALL

@ifclear VERSION
@include version.texi
@end ifclear

@ifclear singularmanual
@majorheading Troubleshooting for Singular on MS Windows.
@end ifclear

@table @strong
@item On startup, the DLL @code{cygwin1.dll} can not be found.
@itemize
@item
Make sure that (1) the @code{BasicCygwin} component was not de-selected
during a custom installation; (2) the destination folder chosen during
the installation does not contain folder names which are longer than 8
characters, or contain spaces or periods; (3) the installation did not
generate any error messages; and (4) you have rebooted your machine after a
successful installation (Win95/98 only).
@item
Make sure the DLL @code{cygwin1.dll} is installed on your
system: Say, @code{C:\} is the folder which you have chosen as the
destination folder during the installation, then the  @code{cygwin1.dll}
should be located at  @code{C:\bin\cygwin1.dll}.
@item
If the problem pertains, please try to localize the source of the
problem as explained below, and, in any event, @emph{please send} an email
to  @email{singular@@mathematik.uni-kl-de} with a description of your problem.
@item
Make sure the directories @code{C:\bin} and @code{C:\usr\local\bin}(if
you have chosen another destination folder, substitute @code{C:} by
this folder) are contained in your @code{PATH} environment variable. To
check this, open an MS-DOS shell and type in @code{PATH}. If these
directories are not contained in the listings of directories of the
@code{PATH} variable, set them as follows and then (on Win95/98)
@emph{restart} your computer :
@*On Windows 95/98, add the following line to your @code{AUTOEXEC.BAT}
file:
@example
SET PATH=C:\BIN;%PATH%;C:\USR\LOCAL\BIN
@end example
On Windows NT/2000 add a similar statements in your @code{Environment}
control panel.


@item
Make sure your chosen destination folder is correctly mounted to the
root of your (Cygwin) file system: Open an MS-DOS shell, @code{cd}
(change directory) to your chosen destination folder, and type in
@example
mount
@end example
This should produce an output which looks like:
@example
Device              Directory           Type         Flags
C:                  /                   system       textmode
@end example
If not, make sure that the @code{mount.exe} command is contained in this
directory, and then type at the MS-DOS prompt:
@example
mount -s -f -t C:\ /
@end example
@end itemize


@item During the installation, an error is displayed complaining that an environment variable can not be set.
Repeat the installation, and make sure that:
@*On Windows 95/98, the file @code{C:\AUTOEXEC.BAT} is not
hidden and not write-protected.
@*On Windows NT/2K, you are logged on either as user
@code{Administrator} or as a user with the Administrator rights during the installation.

@item @*On start-up of @code{ESingular}, the @code{xemacs} editor can not be found.
@*Make sure that (1) the folder @code{C:\usr\local\bin} is contained in your
@code{PATH} (see above for details) and (2) that the file
@code{C:\usr\local\bin\xemacs} exists (as above, substitute @code{C:\}
by the destination folder chosen during the installation).
@*Open a Bash shell and type in @code{/usr/local/bin/xemacs}. 
If this fails, make sure your root is correctly mounted (see above).

@item @*On a Laptop which is not connected to the network, Xemacs hangs.
Remove your network card and restart Xemacs.

@item @*What help systems are available for @sc{Singular}?
@*There are following help files in @code{Your_Singular_Directory\usr\local\Singular\@value{VERSION}}:
@* @code{\info\singular.hlp} - Singular Manual in texinfo format,
@* @code{\html\Manual.hlp} - Singular Manual in Windows Help format,
@* @code{\html\*.htm} (in the Typical and Custom setup components) - Singular Manual in HTML format.
@* You can tell Singular which help to use either from command-line (e.g. @code{system("--browser","winhlp")})
or add this command to the file @code{\LIB\.singularrc}.


@item @*There are @code{Singular.exe}, @code{TSingular.exe} and @code{ESingular.exe} files. What is the difference between them?
@*The most important executables in @code{..\usr\local\Singular\@value{VERSION}\ix86-Win} are :
@* @code{runESingular.exe} - Singular inside the Xemacs editor (appears only if XEmacs is installed),
@* @code{runTSingular.exe} - Singular inside the Cygwin xterm application,
@* @code{Singular.exe} - could be run from the command line either in a Bash shell, or in a DOS window.
For the reason of convenience a file @code{Singular-@value{VERSION}.exe} is just a link to @code{Singular.exe}.

@item @*How do I cut and paste with the mouse?
@*First of all, we remind what we call Unix-like cut and paste with the mouse : marking a region while
pressing a left button copies it to a buffer, click on a middle-button pastes current buffer to
the current cursor position.
@* @code{TSingular} and @code{ESingular} - under xterm and Xemacs, cut and paste works like under Unix
@* @code{Singular.exe} from a Bash shell - you can copy and paste a region selected with the
mouse using the @code{CTRL-Insert} (for copying) and @code{CTRL-Shift} (for paste) keys.
@* @code{Singular.exe} from a DOS window - under Windows NT/2K, you can configure the shortcut
calling the Singular to work in the following manner: marking the region with a left-button,
pressing @code{Enter}, and then right mouse button to paste.
To enable this non-default feature, right-click on the Singular shortcut
on your desktop, check Properties, click on tab Options,
where check the "Quick-Edit Mode" and "Insert (Exclusive) Mode" boxes and apply changes.
On Windows 95/98, this unfortunately doesn't work properly.

@item @*How to uninstall Singular-2-0-0 manually?
@*Appears on  : all Windows family OS
@*Solution : The installation of Singular-2-0-0 for Windows consists of the three following components:
@*(C1) Essential files ( in e.g. @code{C:\Program Files\Singular})
@*(C2) Shortcuts in Start Menu and on the Desktop
@*(C3) Registry entries (WinNT, Win2K) or Autoexec.bat entries (Win9X)

@*To uninstall it, do the following :

@*(C1) Could be removed directly using the Explorer
@*(C2) To delete the shortcuts: right click on the Start button, select
Open - All Users. Then you go to  the Program Files folder and you'll see
the Singular 2.0 folder there, which is to be deleted. The shortcuts on the Desktop
could be removed directly using the Explorer.
@*(C3) For Win9X users : open the file Autoexec.bat 
For WinNT and Win2K users : click  Start->Settings->Control Panel->System->Environment.

@*For all OS:
Just remove the line HOME=... if it corresponds to Singular-2-0-0 (i.e. if it looks like @code{HOME=C:\Program Files\Singular\home\Singular}). 
You can leave the PATH variable as it is,
but if you want to clean it anyway, try to figure out paths in it, which look like 
@code{C:\Program Files\Singular\;C:\Program Files\Singular\bin; C:\Program Files\Singular\usr\local\bin}. Here "C:\Program Files\Singular" indicates the default
directory where Singular could be installed.
But don't delete the string Path itself! 

@item @*Question : How to configure Singular-2-0-0 for use by many users on the WinNT or Win2K?
@*OS applied : WinNT, Win2K.
@*Answer : You are installing Singular-2-0-0 with the administrator rights, the _System_ variables Path and HOME are set by default. There exist also a _User_ 
variable HOME, which overruns the system one for the current user.

@*Assume you have Singular-2-0-0 installed in the @code{C:\Program Files\Singular} directory and your user is named @code{NewUser}.

@*1) Create the directory, say, @code{C:\Program Files\Singular\home\NewUser}
@*2) Copy and edit the files .profile and .bashrc to this directory from the 
@code{C:\Program Files\Singular\home\Singular}.
@*3) Set _User_ variable HOME to @code{C:\Program Files\Singular\home\NewUser} by clicking and editing Start->Settings->Control Panel->System->Environment. User variables are listed in the respective subwindow below.
@*4) Apply changes

The Singular-specific global settings for all the users you can add to the .singularrc file, which you can find in @code{C:\Program Files\Singular\usr\local\Singular\2-0-0\LIB}.
See more info on .singularrc in the manual. 

@end table

For any other troubles, please visit the @strong{Singular Forum} 
at @uref{http://www.singular.uni-kl.de/forum} or
send an email to @email{singular@@mathematik.uni-kl.de}
and include the header which is displayed by starting up @sc{Singular}
with the @code{-v} option, and a description of your machine and
operating system.


@ifclear singularmanual
@heading More information about @sc{Singular}: Comments, Questions, Bug Reports
More and up-to-date information about @sc{Singular} is always available
from
@display
@uref{http://www.singular.uni-kl.de}.
@end display
We very much welcome any comments, questions, and bug reports. Please
contact us at
@display
@email{singular@@mathematik.uni-kl.de}.
@end display

GOOD LUCK and ENJOY!
Your @sc{Singular} team.
@end ifclear

