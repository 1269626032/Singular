LIB "tst.lib";
tst_init();
proc kuddelmuddel(poly p)
{
  ideal i=jacob(p);
  list I=list(nres(i,0));
  module M=I[2];
  list I=list(nres(i,0));
  int ii=1;
  vector v,tv;
  while (ii<=nvars(basering))
  {
    tv = deg(var(ii))*var(ii)*gen(ii);
    v = v+tv;
    ii = ii+1;
  }
  M = M,v;
  return (minor(M,nvars(basering)));
}

ring r=0,(x,y,z),dp;
poly f=x3+y3+z3+xyz;
ideal g=kuddelmuddel(f),f;
print(syz(g));
kill r;

ring RR=0,(A,B,C,D,E),wp(6,3,2,5,4);
poly p=11664A5-5832A4B2+729A3B4-864A4C3-216A3B2C3+16A3C6+2592A3BC2D-16200A3CD2+5670A2B2CD2-729AB4CD2+888A2C4D2+216AB2C4D2-16AC7D2+13500A2BD3-6075AB3D3+729B5D3-3420ABC3D3-216B3C3D3+16BC6D3+4125AC2D4+2700B2C2D4-16C5D4-5625BCD5+3125D6+27216A4CE-9720A3B2CE+729A2B4CE-1440A3C4E-216A2B2C4E+16A2C7E+38880A3BDE-18468A2B3DE+2187AB5DE+144A2BC3DE-648AB3C3DE+48ABC6DE-33480A2C2D2E+17226AB2C2D2E-729B4C2D2E+1480AC5D2E+216B2C5D2E-16C8D2E+1800ABCD3E-3645B3CD3E-3204BC4D3E+22500AD4E-3375B2D4E+3925C3D4E+19872A3C2E2-4104A2B2C2E2-544A2C5E2+76896A2BCDE2-23976AB3CDE2+1458B5CDE2-3360ABC4DE2-432B3C4DE2+32BC7DE2+43200A2D2E2-11880AB2D2E2+243B4D2E2-24568AC3D2E2+8820B2C3D2E2+608C6D2E2-4980BC2D3E2+18500CD4E2+13824A3E3-19008A2B2E3+6804AB4E3-729B6E3+3232A2C3E3+504AB2C3E3+216B4C3E3+32AC6E3-16B2C6E3+49440ABC2DE3-10692B3C2DE3-1104BC5DE3+65280ACD2E3-2088B2CD2E3-7096C4D2E3-3200BD3E3+23040A2CE4-23040AB2CE4+4212B4CE4-1072AC4E4+528B2C4E4-13824ABDE4+3456B3DE4+10656BC3DE4+22848C2D2E4+8704AC2E5-4800B2C2E5+16C5E5-14848BCDE5+1024D2E5+4096AE6-1024B2E6-512C3E6+4096CE7;
option(prot);
ideal g=kuddelmuddel(p),p;
g;
syz(g);
kill RR;
tst_status(1);$;
